<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgriGuard AI | Precision Agriculture Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary: #0a7a4b; --secondary: #27ae60; --dark: #1a1a1a; --bg: #f8faf9; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); margin: 0; display: flex; }
        .sidebar { width: 260px; height: 100vh; background: var(--dark); color: white; padding: 25px; position: fixed; }
        .sidebar h2 { color: var(--secondary); font-size: 22px; margin-bottom: 30px; }
        .nav-item { padding: 15px; border-radius: 8px; cursor: pointer; color: #bbb; transition: 0.3s; margin-bottom: 5px; }
        .nav-item:hover, .nav-item.active { background: rgba(39, 174, 96, 0.2); color: white; }
        .main { margin-left: 300px; padding: 40px; width: calc(100% - 300px); }
        .header { margin-bottom: 30px; }
        .badge { background: #dff5eb; color: var(--primary); padding: 5px 15px; border-radius: 50px; font-size: 12px; font-weight: bold; }
        .grid-container { display: grid; grid-template-columns: 2fr 1fr; gap: 25px; }
        .card { background: white; padding: 30px; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.05); }
        .input-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 6px; font-weight: 600; color: #444; font-size: 14px; }
        input, select { width: 100%; padding: 12px; border: 1px solid #eee; border-radius: 8px; background: #fafafa; box-sizing: border-box; }
        .upload-area { border: 2px dashed #ccc; padding: 20px; text-align: center; border-radius: 10px; margin-bottom: 20px; cursor: pointer; transition: 0.3s; }
        .upload-area:hover { border-color: var(--primary); background: #f0fdf4; }
        button { width: 100%; background: var(--primary); color: white; border: none; padding: 16px; border-radius: 10px; font-size: 16px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        button:hover { background: #059654; }
        .lang-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; justify-content: center; align-items: center; }
        .lang-modal.active { display: flex; }
        .lang-content { background: white; padding: 40px; border-radius: 20px; max-width: 600px; width: 90%; text-align: center; }
        .lang-content h2 { color: var(--primary); margin-bottom: 10px; }
        .lang-content p { color: #666; margin-bottom: 30px; }
        .lang-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
        .lang-btn { padding: 15px; border: 2px solid #eee; border-radius: 12px; cursor: pointer; transition: 0.3s; background: white; }
        .lang-btn:hover { border-color: var(--primary); background: #f0fdf4; }
        .lang-btn .native { font-size: 18px; font-weight: bold; color: var(--dark); }
        .lang-btn .name { font-size: 12px; color: #888; }
        .chatbot-toggle { position: fixed; bottom: 30px; right: 30px; width: 70px; height: 70px; background: linear-gradient(135deg, var(--primary), var(--secondary)); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 10px 30px rgba(10, 122, 75, 0.3); z-index: 9999; transition: transform 0.3s; }
        .chatbot-toggle:hover { transform: scale(1.1); }
        .chatbot-toggle i { font-size: 28px; color: white; }
        .chatbot-modal { position: fixed; bottom: 120px; right: 30px; width: 420px; height: 550px; background: white; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.2); z-index: 9998; display: none; flex-direction: column; overflow: hidden; }
        .chatbot-modal.active { display: flex; }
        .chat-header { background: linear-gradient(135deg, var(--primary), var(--secondary)); color: white; padding: 20px; display: flex; align-items: center; gap: 12px; }
        .chat-header img { width: 40px; height: 40px; border-radius: 50%; }
        .chat-header h3 { margin: 0; font-size: 16px; }
        .chat-header p { margin: 0; font-size: 12px; opacity: 0.8; }
        .chat-close { margin-left: auto; cursor: pointer; font-size: 20px; }
        .chat-messages { flex: 1; padding: 20px; overflow-y: auto; background: #f8faf9; }
        .message { margin-bottom: 15px; max-width: 85%; }
        .message.ai { margin-right: auto; }
        .message.user { margin-left: auto; text-align: right; }
        .message-content { padding: 12px 16px; border-radius: 18px; font-size: 14px; line-height: 1.5; white-space: pre-wrap; }
        .message.ai .message-content { background: white; border: 1px solid #eee; border-bottom-left-radius: 4px; }
        .message.user .message-content { background: var(--primary); color: white; border-bottom-right-radius: 4px; }
        .chat-input { padding: 15px; border-top: 1px solid #eee; display: flex; gap: 10px; }
        .chat-input input { flex: 1; padding: 12px 16px; border: 1px solid #ddd; border-radius: 25px; outline: none; }
        .chat-input button { width: auto; padding: 12px; border-radius: 25px; }
        .chat-input button.voice-btn { background: var(--secondary); }
        .typing-indicator { display: none; padding: 10px; color: #888; font-size: 13px; }
        .typing-indicator.active { display: block; }
        .lang-indicator { position: fixed; top: 20px; right: 20px; background: white; padding: 8px 16px; border-radius: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); cursor: pointer; z-index: 100; display: flex; align-items: center; gap: 8px; }
        .lang-indicator i { color: var(--primary); }
        .info-card h3 { color: var(--dark); margin-top: 0; }
        .stat-box { background: #f8faf9; padding: 15px; border-radius: 10px; margin-bottom: 15px; }
        .stat-box strong { color: var(--primary); }
        .analysis-result { display: none; margin-top: 20px; padding: 20px; background: #f0fdf4; border-radius: 12px; border: 2px solid var(--primary); }
        .analysis-result.active { display: block; }
        .confidence-badge { display: inline-block; padding: 5px 12px; background: var(--primary); color: white; border-radius: 20px; font-size: 12px; margin-bottom: 10px; }
        .treatment-box { background: white; padding: 15px; border-radius: 10px; margin-top: 15px; }
        .treatment-box h4 { margin: 0 0 10px; color: var(--dark); }
        .voice-btn.listening { animation: pulse 1s infinite; background: #e74c3c !important; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
    </style>
</head>
<body>
    <!-- Language Selection Modal -->
    <div class="lang-modal" id="langModal">
        <div class="lang-content">
            <h2><i class="fa-solid fa-globe"></i> <span id="modalTitle">Select Your Language</span></h2>
            <p id="modalDesc">Choose your preferred language for the best experience</p>
            <div class="lang-grid">
                <button class="lang-btn" onclick="selectLanguage('en')"><div class="native">English</div><div class="name">English</div></button>
                <button class="lang-btn" onclick="selectLanguage('hi')"><div class="native">рд╣рд┐рдВрджреА</div><div class="name">Hindi</div></button>
                <button class="lang-btn" onclick="selectLanguage('ta')"><div class="native">родрооро┐ро┤рпН</div><div class="name">Tamil</div></button>
                <button class="lang-btn" onclick="selectLanguage('te')"><div class="native">р░др▒Жр░▓р▒Бр░Чр▒Б</div><div class="name">Telugu</div></button>
                <button class="lang-btn" onclick="selectLanguage('bn')"><div class="native">ржмрж╛ржВрж▓рж╛</div><div class="name">Bengali</div></button>
                <button class="lang-btn" onclick="selectLanguage('mr')"><div class="native">рдорд░рд╛рдареА</div><div class="name">Marathi</div></button>
                <button class="lang-btn" onclick="selectLanguage('gu')"><div class="native">ркЧрлБркЬрк░рк╛ркдрлА</div><div class="name">Gujarati</div></button>
                <button class="lang-btn" onclick="selectLanguage('kn')"><div class="native">р▓Хр▓ир│Нр▓ир▓б</div><div class="name">Kannada</div></button>
                <button class="lang-btn" onclick="selectLanguage('ml')"><div class="native">р┤ор┤▓р┤пр┤╛р┤│р┤В</div><div class="name">Malayalam</div></button>
            </div>
        </div>
    </div>

    <!-- Language Indicator -->
    <div class="lang-indicator" onclick="showLangModal()">
        <i class="fa-solid fa-globe"></i>
        <span id="currentLangName">English</span>
    </div>

    <!-- Navigation Sidebar -->
    <div class="sidebar">
        <h2><i class="fa-solid fa-leaf"></i> AgriGuard AI</h2>
        <div class="nav-item active"><i class="fa-solid fa-house"></i> &nbsp; <span class="nav-home">Home</span></div>
        <div class="nav-item" onclick="window.location.href='/dashboard'"><i class="fa-solid fa-chart-line"></i> &nbsp; <span class="nav-dashboard">Dashboard</span></div>
        <div class="nav-item" onclick="window.location.href='/government'"><i class="fa-solid fa-building-columns"></i> &nbsp; <span class="nav-government">Government</span></div>
        <div class="nav-item" onclick="window.location.href='/ngo'"><i class="fa-solid fa-hands-helping"></i> &nbsp; <span class="nav-ngo">NGO</span></div>
        <div class="nav-item" onclick="window.location.href='/suppliers'"><i class="fa-solid fa-store"></i> &nbsp; <span class="nav-suppliers">Suppliers</span></div>
    </div>

    <!-- Main Content -->
    <div class="main">
        <div class="header">
            <h1 id="pageTitle">Crop Risk Analysis</h1>
            <span class="badge">AI-POWERED</span>
        </div>

        <div class="grid-container">
            <div class="card">
                <h3 style="margin-top:0;"><i class="fa-solid fa-microscope"></i> <span id="fieldAnalysisTitle">Field Analysis</span></h3>
                <form action="/predict" method="POST" enctype="multipart/form-data">
                    <div class="input-group">
                        <label id="cropLabel">Select Crop Type</label>
                        <select name="crop_type" required>
                            <option value="" id="cropPlaceholder">-- Select Crop --</option>
                            <optgroup label="Cereals">
                                <option value="Rice">Rice (Dhan/Chawal)</option>
                                <option value="Wheat">Wheat (Gehu)</option>
                                <option value="Maize">Maize (Makka)</option>
                                <option value="Bajra">Bajra</option>
                                <option value="Jowar">Jowar</option>
                                <option value="Ragi">Ragi</option>
                            </optgroup>
                            <optgroup label="Pulses">
                                <option value="Gram">Gram (Chana)</option>
                                <option value="Tur">Tur/Arhar</option>
                                <option value="Moong">Moong</option>
                                <option value="Urad">Urad</option>
                                <option value="Masoor">Masoor</option>
                            </optgroup>
                            <optgroup label="Oilseeds">
                                <option value="Groundnut">Groundnut (Moongphali)</option>
                                <option value="Mustard">Mustard (Sarso)</option>
                                <option value="Soybean">Soybean</option>
                                <option value="Sunflower">Sunflower</option>
                            </optgroup>
                            <optgroup label="Cash Crops">
                                <option value="Sugarcane">Sugarcane (Ganne)</option>
                                <option value="Cotton">Cotton (Kapas)</option>
                            </optgroup>
                            <optgroup label="Vegetables">
                                <option value="Tomato">Tomato (Tamatar)</option>
                                <option value="Potato">Potato (Aloo)</option>
                                <option value="Onion">Onion (Pyaaz)</option>
                                <option value="Cabbage">Cabbage</option>
                                <option value="Cauliflower">Cauliflower</option>
                                <option value="Carrot">Carrot (Gajar)</option>
                                <option value="Brinjal">Brinjal (Baingan)</option>
                                <option value="Okra">Okra (Bhindi)</option>
                                <option value="Green Chili">Green Chili</option>
                                <option value="Ginger">Ginger (Adrak)</option>
                                <option value="Turmeric">Turmeric (Haldi)</option>
                            </optgroup>
                            <optgroup label="Fruits">
                                <option value="Mango">Mango (Aam)</option>
                                <option value="Banana">Banana (Kela)</option>
                                <option value="Papaya">Papaya (Papita)</option>
                                <option value="Guava">Guava (Amrood)</option>
                                <option value="Pomegranate">Pomegranate (Anar)</option>
                                <option value="Grapes">Grapes (Angoor)</option>
                            </optgroup>
                            <optgroup label="Commercial">
                                <option value="Coffee">Coffee</option>
                                <option value="Tea">Tea</option>
                                <option value="Tobacco">Tobacco</option>
                            </optgroup>
                        </select>
                    </div>

                    <div class="upload-area" id="uploadArea">
                        <i class="fa-solid fa-cloud-upload-alt fa-2x" style="color:#ccc;"></i>
                        <p id="fileName">Upload Leaf Image (Optional) - AI will analyze for diseases</p>
                        <input type="file" name="leaf_image" id="leafImage" accept="image/*" style="display:none;" onchange="updateName(this)">
                    </div>

                    <div class="analysis-result" id="analysisResult">
                        <div class="confidence-badge" id="confidenceBadge">95% Confidence</div>
                        <h4 id="diseaseName">Leaf Blight Detected</h4>
                        <p id="diseaseDesc">Moderate severity fungal infection detected.</p>
                        <div class="treatment-box">
                            <h4><i class="fa-solid fa-prescription-bottle"></i> Recommended Treatment</h4>
                            <p id="treatmentText">Apply Mancozeb 75% WP @ 2.5g/L</p>
                        </div>
                    </div>

                    <div style="display: flex; gap: 15px;">
                        <div class="input-group" style="flex: 1;">
                            <label id="rainfallLabel">Rainfall (mm)</label>
                            <input type="number" name="rainfall" placeholder="Avg. per month" id="rainfallInput" required>
                        </div>
                        <div class="input-group" style="flex: 1;">
                            <label id="tempLabel">Temperature (┬░C)</label>
                            <input type="number" name="temperature" placeholder="Current temp" id="tempInput" required>
                        </div>
                    </div>

                    <div style="display: flex; gap: 15px;">
                        <div class="input-group" style="flex: 1;">
                            <label id="humidityLabel">Humidity (%)</label>
                            <input type="number" name="humidity" placeholder="Relative humidity" id="humidityInput" required>
                        </div>
                        <div class="input-group" style="flex: 1;">
                            <label id="soilLabel">Soil pH Level</label>
                            <input type="number" step="0.1" name="soil_ph" placeholder="4.0 - 9.0" id="soilInput" required>
                        </div>
                    </div>

                    <button type="submit" id="submitBtn">Execute Multi-Point Analysis</button>
                </form>
            </div>

            <div class="card info-card">
                <h3><i class="fa-solid fa-circle-nodes"></i> <span id="systemIntelTitle">System Intelligence</span></h3>
                <div class="stat-box" id="statBox1">
                    <strong id="stat1Title">Precision Logic:</strong> <span id="stat1Text">Analysis utilizes a weighted matrix considering crop-specific thresholds.</span>
                </div>
                <div class="stat-box" id="statBox2">
                    <strong id="stat2Title">Environmental Drift:</strong> <span id="stat2Text">Accounts for humidity spikes which often trigger fungal pathogen alerts.</span>
                </div>
                <div class="stat-box" id="statBox3">
                    <strong id="stat3Title">AI Disease Detection:</strong> <span id="stat3Text">Upload leaf images for instant disease identification and treatment recommendations.</span>
                </div>
                <p style="font-size: 12px; color: #666; line-height: 1.6;">
                    <strong id="advantageTitle">AgriGuard Advantage:</strong> <span id="advantageText">This system uses prescriptive analyticsтАФmoving from simple "Risk Percentages" to actionable "Mitigation Strategies" powered by artificial intelligence.</span>
                </p>
            </div>
        </div>
    </div>

    <!-- AI Chatbot Toggle -->
    <div class="chatbot-toggle" onclick="toggleChatbot()">
        <i class="fa-solid fa-robot"></i>
    </div>

    <!-- AI Chatbot Modal -->
    <div class="chatbot-modal" id="chatbotModal">
        <div class="chat-header">
            <i class="fa-solid fa-robot fa-2x"></i>
            <div>
                <h3 id="chatbotTitle">AgriGuard AI Assistant</h3>
                <p>Online тАв Ready to help</p>
            </div>
            <div class="chat-close" onclick="toggleChatbot()">
                <i class="fa-solid fa-times"></i>
            </div>
        </div>
        
        <div class="chat-messages" id="chatMessages">
            <div class="message ai">
                <div class="message-content" id="welcomeMessage">ЁЯСЛ Namaste! Welcome to AgriGuard AI Assistant!

I'm your personal farming expert, available 24/7 to help you with:

ЁЯМ╛ Crop Management - Planting schedules, variety selection
ЁЯжа Disease & Pest Control - Identification and treatment
ЁЯТз Irrigation Planning - Water management
ЁЯзк Soil Health - pH optimization
ЁЯУК Yield Optimization - Maximize your harvest

How can I help you today?</div>
            </div>
            <div class="typing-indicator" id="typingIndicator">
                <i class="fa-solid fa-ellipsis"></i> AI is thinking...
            </div>
        </div>

        <div class="chat-input">
            <input type="text" id="chatInput" placeholder="Ask me anything about farming..." onkeypress="handleChatKeypress(event)">
            <button onclick="toggleVoiceInput()" class="voice-btn" id="voiceBtn" title="Voice Input"><i class="fa-solid fa-microphone"></i></button>
            <button onclick="sendMessage()"><i class="fa-solid fa-paper-plane"></i></button>
        </div>
    </div>

    <script>
        // Complete translations for all UI elements in all supported languages
        const translations = {
            'en': {
                modalTitle: "Select Your Language", modalDesc: "Choose your preferred language for the best experience",
                navHome: "Home", navDashboard: "Dashboard", navGovernment: "Government", navNGO: "NGO", navSuppliers: "Suppliers",
                pageTitle: "Crop Risk Analysis", fieldAnalysisTitle: "Field Analysis",
                cropLabel: "Select Crop Type", cropPlaceholder: "-- Select Crop --",
                uploadImage: "Upload Leaf Image (Optional) - AI will analyze for diseases",
                rainfallLabel: "Rainfall (mm)", rainfallPlaceholder: "Avg. per month",
                tempLabel: "Temperature (┬░C)", tempPlaceholder: "Current temp",
                humidityLabel: "Humidity (%)", humidityPlaceholder: "Relative humidity",
                soilLabel: "Soil pH Level", soilPlaceholder: "4.0 - 9.0",
                submitBtn: "Execute Multi-Point Analysis",
                systemIntelTitle: "System Intelligence",
                stat1Title: "Precision Logic:", stat1Text: "Analysis utilizes a weighted matrix considering crop-specific thresholds.",
                stat2Title: "Environmental Drift:", stat2Text: "Accounts for humidity spikes which often trigger fungal pathogen alerts.",
                stat3Title: "AI Disease Detection:", stat3Text: "Upload leaf images for instant disease identification and treatment recommendations.",
                advantageTitle: "AgriGuard Advantage:", advantageText: "This system uses prescriptive analyticsтАФmoving from simple 'Risk Percentages' to actionable 'Mitigation Strategies' powered by artificial intelligence.",
                chatbotTitle: "AgriGuard AI Assistant", chatPlaceholder: "Ask me anything about farming...",
                welcomeMessage: "ЁЯСЛ Namaste! Welcome to AgriGuard AI Assistant!\n\nI'm your personal farming expert, available 24/7 to help you with:\n\nЁЯМ╛ Crop Management - Planting schedules, variety selection\nЁЯжа Disease & Pest Control - Identification and treatment\nЁЯТз Irrigation Planning - Water management\nЁЯзк Soil Health - pH optimization\nЁЯУК Yield Optimization - Maximize your harvest\n\nHow can I help you today?"
            },
            'hi': {
                modalTitle: "рдЕрдкрдиреА рднрд╛рд╖рд╛ рдЪреБрдиреЗрдВ", modalDesc: "рд╕рд░реНрд╡реЛрддреНрддрдо рдЕрдиреБрднрд╡ рдХреЗ рд▓рд┐рдП рдЕрдкрдиреА рдкрд╕рдВрджреАрджрд╛ рднрд╛рд╖рд╛ рдЪреБрдиреЗрдВ",
                navHome: "рд╣реЛрдо", navDashboard: "рдбреИрд╢рдмреЛрд░реНрдб", navGovernment: "рд╕рд░рдХрд╛рд░", navNGO: "рдПрдирдЬреАрдУ", navSuppliers: "рдЖрдкреВрд░реНрддрд┐рдХрд░реНрддрд╛",
                pageTitle: "рдлрд╕рд▓ рдЬреЛрдЦрд┐рдо рд╡рд┐рд╢реНрд▓реЗрд╖рдг", fieldAnalysisTitle: "рдХреНрд╖реЗрддреНрд░ рд╡рд┐рд╢реНрд▓реЗрд╖рдг",
                cropLabel: "рдлрд╕рд▓ рдХрд╛ рдкреНрд░рдХрд╛рд░ рдЪреБрдиреЗрдВ", cropPlaceholder: "-- рдлрд╕рд▓ рдЪреБрдиреЗрдВ --",
                uploadImage: "рдкрддреНрддреА рдХреА рдЫрд╡рд┐ рдЕрдкрд▓реЛрдб рдХрд░реЗрдВ (рд╡реИрдХрд▓реНрдкрд┐рдХ) - рдПрдЖрдИ рдмреАрдорд╛рд░реА рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдЧрд╛",
                rainfallLabel: "рд╡рд░реНрд╖рд╛ (рдорд┐рдореА)", rainfallPlaceholder: "рдкреНрд░рддрд┐ рдорд╛рд╣ рдФрд╕рдд",
                tempLabel: "рддрд╛рдкрдорд╛рди (┬░C)", tempPlaceholder: "рд╡рд░реНрддрдорд╛рди рддрд╛рдкрдорд╛рди",
                humidityLabel: "рдЖрд░реНрджреНрд░рддрд╛ (%)", humidityPlaceholder: "рд╕рд╛рдкреЗрдХреНрд╖ рдЖрд░реНрджреНрд░рддрд╛",
                soilLabel: "рдорд┐рдЯреНрдЯреА pH рд╕реНрддрд░", soilPlaceholder: "4.0 - 9.0",
                submitBtn: "рдмрд╣реБ-рдмрд┐рдВрджреБ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВ",
                systemIntelTitle: "рдкреНрд░рдгрд╛рд▓реА рдмреБрджреНрдзрд┐рдорддреНрддрд╛",
                stat1Title: "рд╕рдЯреАрдХ рддрд░реНрдХ:", stat1Text: "рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдлрд╕рд▓-рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕реАрдорд╛рдУрдВ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрдиреЗ рд╡рд╛рд▓реЗ рднрд╛рд░рд┐рдд рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред",
                stat2Title: "рдкрд░реНрдпрд╛рд╡рд░рдгреАрдп рдмрджрд▓рд╛рд╡:", stat2Text: "рдЖрд░реНрджреНрд░рддрд╛ рдореЗрдВ рд╡реГрджреНрдзрд┐ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддрд╛ рд╣реИ рдЬреЛ рдЕрдХреНрд╕рд░ рдХрд╡рдХ рд░реЛрдЧрдЬрдирдХ рдЪреЗрддрд╛рд╡рдиреА рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рддреА рд╣реИред",
                stat3Title: "рдПрдЖрдИ рд░реЛрдЧ рдкрд╣рдЪрд╛рди:", stat3Text: "рддреНрд╡рд░рд┐рдд рд░реЛрдЧ рдкрд╣рдЪрд╛рди рдФрд░ рдЙрдкрдЪрд╛рд░ рд╕рд┐рдлрд╛рд░рд┐рд╢реЛрдВ рдХреЗ рд▓рд┐рдП рдкрддреНрддреА рдХреА рдЫрд╡рд┐рдпрд╛рдВ рдЕрдкрд▓реЛрдб рдХрд░реЗрдВред",
                advantageTitle: "рдПрдЧреНрд░реАрдЧрд╛рд░реНрдб рд▓рд╛рдн:", advantageText: "рдпрд╣ рдкреНрд░рдгрд╛рд▓реА рдирд┐рджрд╛рдирд╛рддреНрдордХ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреА рд╣реИ - рдХреГрддреНрд░рд┐рдо рдмреБрджреНрдзрд┐рдорддреНрддрд╛ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд 'рдЬреЛрдЦрд┐рдо рдкреНрд░рддрд┐рд╢рдд' рд╕реЗ 'рд╢рдорди рд░рдгрдиреАрддрд┐рдпреЛрдВ' рддрдХред",
                chatbotTitle: "рдПрдЧреНрд░реАрдЧрд╛рд░реНрдб рдПрдЖрдИ рд╕рд╣рд╛рдпрдХ", chatPlaceholder: "рдЦреЗрддреА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рднреА рдкреВрдЫреЗрдВ...",
                welcomeMessage: "ЁЯСЛ рдирдорд╕реНрддреЗ! рдПрдЧреНрд░реАрдЧрд╛рд░реНрдб рдПрдЖрдИ рд╕рд╣рд╛рдпрдХ рдореЗрдВ рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИ!\n\nрдореИрдВ рдЖрдкрдХрд╛ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдХреГрд╖рд┐ рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рд╣реВрдВ, 24/7 рдЙрдкрд▓рдмреНрдз:\n\nЁЯМ╛ рдлрд╕рд▓ рдкреНрд░рдмрдВрдзрди - рд░реЛрдкрдг рд╕рдордп, рдХрд┐рд╕реНрдо рдЪрдпрди\nЁЯжа рд░реЛрдЧ рдФрд░ рдХреАрдЯ рдирд┐рдпрдВрддреНрд░рдг - рдкрд╣рдЪрд╛рди рдФрд░ рдЙрдкрдЪрд╛рд░\nЁЯТз рд╕рд┐рдВрдЪрди рдпреЛрдЬрдирд╛ - рдкреНрд░рдмрдВрдзрди\nЁЯзк рдорд┐рдЯреНрдЯреА рд╕реНрд╡рд╛рд╕реНрдереНрдп - pH рдЕрдиреБрдХреВрд▓рди\nЁЯУК рдЙрдкрдЬ рдЕрдиреБрдХреВрд▓рди\n\nрдЖрдЬ рдореИрдВ рдЖрдкрдХреА рдХреИрд╕реЗ рдорджрдж рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ?"
            },
            'ta': {
                modalTitle: "роЙроЩрпНроХро│рпН роорпКро┤ро┐ропрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН", modalDesc: "роЪро┐ро▒роирпНрод роЕройрпБрокро╡родрпНродро┐ро▒рпНроХрпБ роЙроЩрпНроХро│рпН ро╡ро┐ро░рпБрокрпНрок роорпКро┤ро┐ропрпИродрпН родрпЗро░рпНро╡рпБроЪрпЖропрпНроХ",
                navHome: "роорпБроХрокрпНрокрпБ", navDashboard: "роЯреИро╖рпНрокрпЛро░рпНроЯрпБ", navGovernment: "роЕро░роЪрпБ", navNGO: "роОройрпН.роЬро┐.роУ", navSuppliers: "ро╡ро┤роЩрпНроХрпБроиро░рпНроХро│рпН",
                pageTitle: "рокропро┐ро░рпН роЖрокродрпНродрпБ рокроХрпБрокрпНрокро╛ропрпНро╡рпБ", fieldAnalysisTitle: "рокрпБро▓ рокроХрпБрокрпНрокро╛ропрпНро╡рпБ",
                cropLabel: "рокропро┐ро░рпН ро╡роХрпИропрпИродрпН родрпЗро░рпНро╡рпБроЪрпЖропрпНроХ", cropPlaceholder: "-- рокропро┐ро░рпН родрпЗро░рпНро╡рпБроЪрпЖропрпНроХ --",
                uploadImage: "роЗро▓рпИ рокроЯродрпНродрпИ рокродро┐ро╡рпЗро▒рпНро▒рпБроЩрпНроХро│рпН (ро╡ро┐ро░рпБрокрпНрокроорпН) - AI роирпЛропрпИ рокроХрпБрокрпНрокро╛ропрпНро╡рпБ роЪрпЖропрпНропрпБроорпН",
                rainfallLabel: "рооро┤рпИ (рооро┐.роорпА)", rainfallPlaceholder: "рооро╛родродрпНродро┐ро▒рпНроХрпБ роЪро░ро╛роЪро░ро┐",
                tempLabel: "ро╡рпЖрокрпНрокроиро┐ро▓рпИ (┬░C)", tempPlaceholder: "родро▒рпНрокрпЛродрпИроп ро╡рпЖрокрпНрокроиро┐ро▓рпИ",
                humidityLabel: "роИро░рокрпНрокродроорпН (%)", humidityPlaceholder: "роЪро╛ро░рпНрокрпБ роИро░рокрпНрокродроорпН",
                soilLabel: "роорогрпН pH роиро┐ро▓рпИ", soilPlaceholder: "4.0 - 9.0",
                submitBtn: "рокро▓-рокрпБро│рпНро│ро┐ рокроХрпБрокрпНрокро╛ропрпНро╡рпИ роЗропроХрпНроХ",
                systemIntelTitle: "роЕроорпИрокрпНрокрпБ роирпБрогрпНрогро▒ро┐ро╡рпБ",
                stat1Title: "родрпБро▓рпНро▓ро┐ропрооро╛рой родро░рпНроХрпНроХроорпН:", stat1Text: "рокроХрпБрокрпНрокро╛ропрпНро╡рпБ рокропро┐ро░рпН-роХрпБро▒ро┐рокрпНрокро┐роЯрпНроЯ роородро┐рокрпНрокрпБроХро│рпИ роХро░рпБродрпНродро┐ро▓рпН роХрпКро│рпНро│рпБроорпН.",
                stat2Title: "роЪрпБро▒рпНро▒рпБроЪрпНроЪрпВро┤ро▓рпН рооро╛ро▒рпНро▒роорпН:", stat2Text: "рокрпВроЮрпНроЪрпИ роирпЛропрпН роОроЪрпНроЪро░ро┐роХрпНроХрпИроХро│рпИ родрпВрогрпНроЯрпБроорпН роИро░рокрпНрокродроорпН роЙропро░рпНро╡рпИ роХрогроХрпНроХро┐роЯрпБроХро┐ро▒родрпБ.",
                stat3Title: "AI роирпЛропрпН роХрогрпНроЯро▒ро┐родро▓рпН:", stat3Text: "роирпЛропрпН роХрогрпНроЯро▒ро┐родро▓рпН рооро▒рпНро▒рпБроорпН роЪро┐роХро┐роЪрпНроЪрпИ рокро░ро┐роирпНродрпБро░рпИроХро│рпБроХрпНроХрпБ роЗро▓рпИ рокроЯроЩрпНроХро│рпИ рокродро┐ро╡рпЗро▒рпНро▒ро╡рпБроорпН.",
                advantageTitle: "роЕроХрпНро░ро┐роХро╛ро░рпНроЯрпБ рои Advantages:", advantageText: "роЗроирпНрод роЕроорпИрокрпНрокрпБ роорпБройрпНройро▒ро┐ро╡рпБ рокроХрпБрокрпНрокро╛ропрпНро╡рпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБроХро┐ро▒родрпБ - AIроР роЗропроХрпНроХрпБроорпН 'роЖрокродрпНродрпБ роЪродро╡рпАродроЩрпНроХро│рпН' роорпБродро▓рпН 'родроЯрпБроХрпНроХрпБроорпН роЙродрпНродро┐роХро│рпН' ро╡ро░рпИ.",
                chatbotTitle: "роЕроХрпНро░ро┐роХро╛ро░рпНроЯрпБ AI роЙродро╡ро┐ропро╛ро│ро░рпН", chatPlaceholder: "ро╡ро┐ро╡роЪро╛ропроорпН рокро▒рпНро▒ро┐ роПродро╛ро╡родрпБ роХрпЗро│рпБроЩрпНроХро│рпН...",
                welcomeMessage: "ЁЯСЛ ро╡рогроХрпНроХроорпН! роЕроХрпНро░ро┐роХро╛ро░рпНроЯрпБ AI роЙродро╡ро┐ропро╛ро│ро░рпБроХрпНроХрпБ ро╡ро░ро╡рпЗро▒рпНроХро┐ро▒рпЛроорпН!\n\nроиро╛ройрпН роЙроЩрпНроХро│рпН родройро┐рокрпНрокроЯрпНроЯ ро╡ро┐ро╡роЪро╛роп роиро┐рокрпБрогройрпН, 24/7 роЙродро╡:\n\nЁЯМ╛ рокропро┐ро░рпН роорпЗро▓ро╛рогрпНроорпИ - роироЯро╡рпБ роирпЗро░роорпН, рокро▓рпН ро╡роХрпИроХро│рпН\nЁЯжа роирпЛропрпН & рокрпВроЪрпНроЪро┐ роХроЯрпНроЯрпБрокрпНрокро╛роЯрпБ\nЁЯТз рокро╛роЪройроорпН\nЁЯзк роорогрпН роЖро░рпЛроХрпНроХро┐ропроорпН\nЁЯУК ро╡ро┐ро│рпИроЪрпНроЪро▓рпН роорпЗроорпНрокро╛роЯрпБ\n\nроЗройрпНро▒рпБ роиро╛ройрпН роЙроЩрпНроХро│рпБроХрпНроХрпБ роОрокрпНрокроЯро┐ роЙродро╡ роорпБроЯро┐ропрпБроорпН?"
            },
            'te': {
                modalTitle: "Your Language", modalDesc: "Choose your preferred language",
                navHome: "Home", navDashboard: "Dashboard", navGovernment: "Government", navNGO: "NGO", navSuppliers: "Suppliers",
                pageTitle: "Crop Risk Analysis", fieldAnalysisTitle: "Field Analysis",
                cropLabel: "Select Crop Type", cropPlaceholder: "-- Select Crop --",
                uploadImage: "Upload Leaf Image (Optional)",
                rainfallLabel: "Rainfall (mm)", rainfallPlaceholder: "Avg per month",
                tempLabel: "Temperature (┬░C)", tempPlaceholder: "Current temp",
                humidityLabel: "Humidity (%)", humidityPlaceholder: "Relative humidity",
                soilLabel: "Soil pH Level", soilPlaceholder: "4.0 - 9.0",
                submitBtn: "Execute Analysis",
                systemIntelTitle: "System Intelligence",
                stat1Title: "Precision Logic:", stat1Text: "Analysis uses weighted matrix.",
                stat2Title: "Environmental:", stat2Text: "Accounts for humidity changes.",
                stat3Title: "AI Detection:", stat3Text: "Upload leaf images for disease detection.",
                advantageTitle: "AgriGuard Advantage:", advantageText: "Uses AI-powered analytics.",
                chatbotTitle: "AgriGuard AI Assistant", chatPlaceholder: "Ask about farming...",
                welcomeMessage: "ЁЯСЛ Namaste! Welcome to AgriGuard AI!"
            },
            'bn': {
                modalTitle: "ржЖржкржирж╛рж░ ржнрж╛рж╖рж╛ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи", modalDesc: "ржЖржкржирж╛рж░ ржкржЫржирзНржжрзЗрж░ ржнрж╛рж╖рж╛ ржмрзЗржЫрзЗ ржирж┐ржи",
                navHome: "рж╣рзЛржо", navDashboard: "ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб", navGovernment: "рж╕рж░ржХрж╛рж░", navNGO: "ржПржиржЬрж┐ржУ", navSuppliers: "рж╕рж░ржмрж░рж╛рж╣ржХрж╛рж░рзА",
                pageTitle: "ржлрж╕рж▓ ржЭрзБржБржХрж┐ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг", fieldAnalysisTitle: "ржорж╛ржа ржмрж┐рж╢рзНрж▓рзЗрж╖ржг",
                cropLabel: "ржлрж╕рж▓рзЗрж░ ржзрж░ржи ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи", cropPlaceholder: "-- ржлрж╕рж▓ ржирж┐рж░рзНржмрж╛ржЪржи --",
                uploadImage: "ржкрж╛рждрж╛рж░ ржЫржмрж┐ ржЖржкрж▓рзЛржб ржХрж░рзБржи (ржРржЪрзНржЫрж┐ржХ)",
                rainfallLabel: "ржмрзГрж╖рзНржЯрж┐ржкрж╛ржд (ржорж┐ржорж┐)", rainfallPlaceholder: "ржкрзНрж░рждрж┐ ржорж╛рж╕рзЗ ржЧржбрж╝",
                tempLabel: "рждрж╛ржкржорж╛рждрзНрж░рж╛ (┬░C)", tempPlaceholder: "ржмрж░рзНрждржорж╛ржи рждрж╛ржкржорж╛рждрзНрж░рж╛",
                humidityLabel: "ржЖрж░рзНржжрзНрж░рждрж╛ (%)", humidityPlaceholder: "рж╕ржорзНржкрж░рзНржХрж┐ржд ржЖрж░рзНржжрзНрж░рждрж╛",
                soilLabel: "ржорж╛ржЯрж┐ pH рж╕рзНрждрж░", soilPlaceholder: "4.0 - 9.0",
                submitBtn: "ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ржЪрж╛рж▓рж╛ржи",
                systemIntelTitle: "рж╕рж┐рж╕рзНржЯрзЗржо ржЗржирзНржЯрзЗрж▓рж┐ржЬрзЗржирзНрж╕",
                stat1Title: "ржирж┐рж░рзНржнрзБрж▓рждрж╛:", stat1Text: "ржмрж┐рж╢рзНрж▓рзЗрж╖ржгрзЗ ржУржЬржиржпрзБржХрзНржд ржорзНржпрж╛ржЯрзНрж░рж┐ржХрзНрж╕ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ред",
                stat2Title: "ржкрж░рж┐ржмрзЗрж╢:", stat2Text: "ржЖрж░рзНржжрзНрж░рждрж╛рж░ ржкрж░рж┐ржмрж░рзНрждржи ржмрж┐ржмрзЗржЪржирж╛ ржХрж░рзЗред",
                stat3Title: "AI рж╕ржирж╛ржХрзНрждржХрж░ржг:", stat3Text: "рж░рзЛржЧ рж╕ржирж╛ржХрзНрждржХрж░ржгрзЗрж░ ржЬржирзНржп ржкрж╛рждрж╛рж░ ржЫржмрж┐ ржЖржкрж▓рзЛржб ржХрж░рзБржиред",
                advantageTitle: "AgriGuard рж╕рзБржмрж┐ржзрж╛:", advantageText: "AI-ржЪрж╛рж▓рж┐ржд ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред",
                chatbotTitle: "AgriGuard AI рж╕рж╣рж╛ржпрж╝ржХ", chatPlaceholder: "ржЪрж╛рж╖ рж╕ржорзНржкрж░рзНржХрзЗ ржЬрж┐ржЬрзНржЮрж╛рж╕рж╛ ржХрж░рзБржи...",
                welcomeMessage: "ЁЯСЛ ржиржорж╕рзНржХрж╛рж░! AgriGuard AI рж╕рзНржмрж╛ржЧрждржо!"
            },
            'mr': {
                modalTitle: "рддреБрдордЪреА рднрд╛рд╖рд╛ рдирд┐рд╡рдбрд╛", modalDesc: "рдЪрд╛рдВрдЧрд▓реНрдпрд╛ рдЕрдиреБрднрд╡рд╛рд╕рд╛рдареА рддреБрдордЪреА рдкрд╕рдВрддреАрдЪреА рднрд╛рд╖рд╛ рдирд┐рд╡рдбрд╛",
                navHome: "рд╣реЛрдо", navDashboard: "рдбреЕрд╢рдмреЛрд░реНрдб", navGovernment: "рд╕рд░рдХрд╛рд░", navNGO: "рдПрдирдЬреАрдУ", navSuppliers: "рдкреБрд░рд╡рдард╛рджрд╛рд░",
                pageTitle: "рдкреАрдХ рдзреЛрдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг", fieldAnalysisTitle: "рд╢реЗрдд рд╡рд┐рд╢реНрд▓реЗрд╖рдг",
                cropLabel: "рдкреАрдХ рдкреНрд░рдХрд╛рд░ рдирд┐рд╡рдбрд╛", cropPlaceholder: "-- рдкреАрдХ рдирд┐рд╡рдбрд╛ --",
                uploadImage: "рдкрд╛рдирд╛рдЪреА рдЫрд╡реА рдЕрдкрд▓реЛрдб рдХрд░рд╛ (рд╡реИрдХрд▓реНрдкрд┐рдХ) - рдПрдЖрдп рд░реЛрдЧрд╛рдЪреЗ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрд▓",
                rainfallLabel: "рдкрд╛рдКрд╕ (рдорд┐рдореА)", rainfallPlaceholder: "рдкреНрд░рддрд┐ рдорд╣рд┐рдирд╛ рд╕рд░рд╛рд╕рд░реА",
                tempLabel: "рддрд╛рдкрдорд╛рди (┬░C)", tempPlaceholder: "рд╕рдзреНрдпрд╛рдЪреЗ рддрд╛рдкрдорд╛рди",
                humidityLabel: "рдЖрд░реНрджреНрд░рддрд╛ (%)", humidityPlaceholder: "рд╕рд╛рдкреЗрдХреНрд╖ рдЖрд░реНрджреНрд░рддрд╛",
                soilLabel: "рдорд╛рддреА pH рд╕реНрддрд░", soilPlaceholder: "4.0 - 9.0",
                submitBtn: "рдмрд╣реБ-рдмрд┐рдВрджреВ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдЪрд╛рд▓рд╡рд╛",
                systemIntelTitle: "рдкреНрд░рдгрд╛рд▓реА рдмреБрджреНрдзрд┐рдорддреНрддрд╛",
                stat1Title: "рдЕрдЪреВрдХ рддрд░реНрдХ:", stat1Text: "рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдкреАрдХ-рд╡рд┐рд╢рд┐рд╖реНрдЯ рдереНрд░реЗрд╢реЛрд▓реНрдб рд▓рдХреНрд╖рд╛рдд рдШреЗрддреЗред",
                stat2Title: "рдкрд░реНрдпрд╛рд╡рд░рдгреАрдп рдмрджрд▓:", stat2Text: "рдЖрд░реНрджреНрд░рддрд╛ рд╡рд╛рдвреАрдЪреА рдиреЛрдВрдж рдШреЗрддреЗ рдЬреА рдмрд╣реБрддреЗрдХ рд╡реЗрд│рд╛ рдмреБрд░рд╢реА рд░реЛрдЧ рдЪреЗрддрд╛рд╡рдиреА рдЯреНрд░рд┐рдЧрд░ рдХрд░рддреЗред",
                stat3Title: "рдПрдЖрдп рд░реЛрдЧ рд╢реЛрдз:", stat3Text: "рд░реЛрдЧ рдУрд│рдЦ рдЖрдгрд┐ рдЙрдкрдЪрд╛рд░ рд╢рд┐рдлрд╛рд░рд╕реАрдВрд╕рд╛рдареА рдкрд╛рдирд╛рдЪреА рдЫрд╡реА рдЕрдкрд▓реЛрдб рдХрд░рд╛ред",
                advantageTitle: "рдЕтАНреЕрдЧреНрд░реАрдЧрд╛рд░реНрдб рдлрд╛рдпрджрд╛:", advantageText: "рд╣реА рдкреНрд░рдгрд╛рд▓реА рдкреНрд░рд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд┐рд╡ рдЕтАНреЕрдирд╛рд▓рд┐рдЯрд┐рдХреНрд╕ рд╡рд╛рдкрд░рддреЗ - рдХреГрддреНрд░рд┐рдо рдмреБрджреНрдзрд┐рдорддреНрддрд╛рджреНрд╡рд╛рд░реЗ рдЪрд╛рд▓рд╡рд▓реЗрд▓реЗ 'рдзреЛрдХрд╛ рдЯрдХреНрдХреЗ' рддреЗ 'рд╢рдорди рд░рдгрдиреАрддреА'ред",
                chatbotTitle: "рдЕтАНреЕрдЧреНрд░реАрдЧрд╛рд░реНрдб рдПрдЖрдп рд╕рд╣рд╛рдпреНрдпрдХ", chatPlaceholder: "рд╢реЗрддреАрдмрджреНрджрд▓ рдХрд╛рд╣реАрд╣реА рд╡рд┐рдЪрд╛рд░рд╛...",
                welcomeMessage: "ЁЯСЛ рдирдорд╕реНрдХрд╛рд░! рдЕтАНреЕрдЧреНрд░реАрдЧрд╛рд░реНрдб рдПрдЖрдп рд╕рд╣рд╛рдпреНрдпрдХрд╛рдд рдЖрдкрд▓реЗ рд╕реНрд╡рд╛рдЧрдд рдЖрд╣реЗ!\n\nрдореА рддреБрдордЪрд╛ рд╡реИрдпрдХреНрддрд┐рдХ рд╢реЗрддреА рддрдЬреНрдЬреНрдЮ рдЖрд╣реЗ, 24/7 рдорджрдд рдХрд░рд╛рдпрд▓рд╛ рддрдпрд╛рд░:\n\nЁЯМ╛ рдкреАрдХ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди\nЁЯжа рд░реЛрдЧ рдЖрдгрд┐ рдХрд┐рдб рдирд┐рдпрдВрддреНрд░рдг\nЁЯТз рд╕рд┐рдВрдЪрди рдирд┐рдпреЛрдЬрди\nЁЯзк рдорд╛рддреА рдЖрд░реЛрдЧреНрдп\nЁЯУК рдЙрддреНрдкрд╛рджрди рдСрдкреНрдЯрд┐рдорд╛рдпрдЭреЗрд╢рди\n\nрдЖрдЬ рдореА рддреБрдореНрд╣рд╛рд▓рд╛ рдХрд╢реА рдорджрдд рдХрд░реВ рд╢рдХрддреЛ?"
            },
            'gu': {
                modalTitle: "ркдркорк╛рк░рлА ркнрк╛рк╖рк╛ рккрк╕ркВркж ркХрк░рлЛ", modalDesc: "рк╢рлНрк░рлЗрк╖рлНрка ркЕркирлБркнрк╡ ркорк╛ркЯрлЗ ркдркорк╛рк░рлА рккрк╕ркВркжрлАркжрк╛рк░ ркнрк╛рк╖рк╛ рккрк╕ркВркж ркХрк░рлЛ",
                navHome: "рк╣рлЛрко", navDashboard: "ркбрлЕрк╢ркмрлЛрк░рлНркб", navGovernment: "рк╕рк░ркХрк╛рк░", navNGO: "ркПркиркЬрлАркУ", navSuppliers: "рк╕рккрлНрк▓рк╛ркпрк░рлНрк╕",
                pageTitle: "рккрк╛ркХ ркЬрлЛркЦрко рк╡рк┐рк╢рлНрк▓рлЗрк╖ркг", fieldAnalysisTitle: "ркЦрлЗркдрлА рк╡рк┐рк╢рлНрк▓рлЗрк╖ркг",
                cropLabel: "рккрк╛ркХркирлЛ рккрлНрк░ркХрк╛рк░ рккрк╕ркВркж ркХрк░рлЛ", cropPlaceholder: "-- рккрк╛ркХ рккрк╕ркВркж ркХрк░рлЛ --",
                uploadImage: "рккрк╛ркВркжркбрк╛ркирлА ркЫркмрлА ркЕрккрк▓рлЛркб ркХрк░рлЛ (рк╡рлИркХрк▓рлНрккрк┐ркХ)",
                rainfallLabel: "рк╡рк░рк╕рк╛ркж (ркорк┐ркорлА)", rainfallPlaceholder: "рк╕рк░рлЗрк░рк╛рк╢ рккрлНрк░ркдрк┐ ркорк╣рк┐ркирлЛ",
                tempLabel: "ркдрк╛рккркорк╛рки (┬░C)", tempPlaceholder: "рк╣рк╛рк▓ркирлБркВ ркдрк╛рккркорк╛рки",
                humidityLabel: "ркнрлЗркЬ (%)", humidityPlaceholder: "рк╕рк╛рккрлЗркХрлНрк╖ ркнрлЗркЬ",
                soilLabel: "ркЬркорлАрки pH рк╕рлНркдрк░", soilPlaceholder: "4.0 - 9.0",
                submitBtn: "рк╡рк┐рк╢рлНрк▓рлЗрк╖ркг ркЪрк▓рк╛рк╡рлЛ",
                systemIntelTitle: "рк╕рк┐рк╕рлНркЯрко ркЗркВркЯрлЗрк▓рк┐ркЬркирлНрк╕",
                stat1Title: "ркЪрлЛркХрк╕рк╛ркИ:", stat1Text: "рк╡рк┐рк╢рлНрк▓рлЗрк╖ркг рк╡ркЬркиркпрлБркХрлНркд ркорлЕркЯрлНрк░рк┐ркХрлНрк╕ рк╡рк╛рккрк░рлЗ ркЫрлЗ.",
                stat2Title: "рккрк░рлНркпрк╛рк╡рк░ркг:", stat2Text: "ркнрлЗркЬркорк╛ркВ рклрлЗрк░рклрк╛рк░ ркзрлНркпрк╛ркиркорк╛ркВ рк▓рлЗ ркЫрлЗ.",
                stat3Title: "AI рк░рлЛркЧ рк╢рлЛркз:", stat3Text: "рк░рлЛркЧ рк╢рлЛркз ркорк╛ркЯрлЗ рккрк╛ркВркжркбрк╛ркирлА ркЫркмрлАркУ ркЕрккрк▓рлЛркб ркХрк░рлЛ.",
                advantageTitle: "AgriGuard рклрк╛ркпркжрлЛ:", advantageText: "AI-рк╕ркВркЪрк╛рк▓рк┐ркд рк╡рк┐рк╢рлНрк▓рлЗрк╖ркг.",
                chatbotTitle: "AgriGuard AI рк╕рк╣рк╛ркпркХ", chatPlaceholder: "ркЦрлЗркдрлА рк╡рк┐рк╢рлЗ рккрлНрк░рк╢рлНрки ркХрк░рлЛ...",
                welcomeMessage: "ЁЯСЛ ркиркорк╕рлНркдрлЗ! AgriGuard AIркорк╛ркВ ркЖрккркирлБркВ рк╕рлНрк╡рк╛ркЧркд ркЫрлЗ!"
            },
            'kn': {
                modalTitle: "р▓ир▓┐р▓ор│Нр▓о р▓нр▓╛р▓╖р│Жр▓пр▓ир│Нр▓ир│Б р▓Жр▓пр│Нр▓Хр│Жр▓ор▓╛р▓бр▓┐", modalDesc: "р▓Йр▓др│Нр▓др▓о р▓Ер▓ир│Бр▓нр▓╡р▓Хр│Нр▓Хр▓╛р▓Чр▓┐ р▓ир▓┐р▓ор│Нр▓о р▓Жр▓жр│Нр▓пр▓др│Жр▓п р▓нр▓╛р▓╖р│Жр▓пр▓ир│Нр▓ир│Б р▓Жр▓пр│Нр▓Хр│Жр▓ор▓╛р▓бр▓┐",
                navHome: "р▓ор▓ир│Ж", navDashboard: "р▓бр│Нр▓пр▓╛р▓╢р│НтАМр▓мр│Лр▓░р│Нр▓бр│Н", navGovernment: "р▓╕р▓░р│Нр▓Хр▓╛р▓░", navNGO: "р▓Ор▓ир│НтАМр▓Ьр▓┐р▓У", navSuppliers: "р▓╕р▓░р▓мр▓░р▓╛р▓Ьр│Бр▓жр▓╛р▓░р▓░р│Б",
                pageTitle: "р▓мр│Жр▓│р│Ж р▓Ер▓кр▓╛р▓п р▓╡р▓┐р▓╢р│Нр▓▓р│Зр▓╖р▓гр│Ж", fieldAnalysisTitle: "р▓╣р│Кр▓▓ р▓╡р▓┐р▓╢р│Нр▓▓р│Зр▓╖р▓гр│Ж",
                cropLabel: "р▓мр│Жр▓│р│Ж р▓кр│Нр▓░р▓Хр▓╛р▓░р▓╡р▓ир│Нр▓ир│Б р▓Жр▓пр│Нр▓Хр│Жр▓ор▓╛р▓бр▓┐", cropPlaceholder: "-- р▓мр│Жр▓│р│Ж р▓Жр▓пр│Нр▓Хр│Жр▓ор▓╛р▓бр▓┐ --",
                uploadImage: "р▓Ор▓▓р│Ж р▓Ър▓┐р▓др│Нр▓░р▓╡р▓ир│Нр▓ир│Б р▓Ер▓кр│НтАМр▓▓р│Лр▓бр│Н р▓ор▓╛р▓бр▓┐ (р▓Рр▓Ър│Нр▓Ыр▓┐р▓Х)",
                rainfallLabel: "р▓ор▓│р│Ж (р▓ор▓┐.р▓ор│А)", rainfallPlaceholder: "р▓др▓┐р▓Вр▓Чр▓│р▓┐р▓Чр│Ж р▓╕р▓░р▓╛р▓╕р▓░р▓┐",
                tempLabel: "р▓др▓╛р▓кр▓ор▓╛р▓и (┬░C)", tempPlaceholder: "р▓кр│Нр▓░р▓╕р│Нр▓др│Бр▓д р▓др▓╛р▓кр▓ор▓╛р▓и",
                humidityLabel: "р▓др│Зр▓╡ (% р▓др│Зр▓╡)", humidityPlaceholder: "р▓╕р▓╛р▓кр│Зр▓Хр│Нр▓╖ р▓др│Зр▓╡",
                soilLabel: "р▓ор▓гр│Нр▓гр▓┐р▓и pH р▓ор▓Яр│Нр▓Я", soilPlaceholder: "4.0 - 9.0",
                submitBtn: "р▓╡р▓┐р▓╢р│Нр▓▓р│Зр▓╖р▓гр│Ж р▓ир▓бр│Жр▓╕р▓┐",
                systemIntelTitle: "р▓╕р▓┐р▓╕р│Нр▓Яр▓В р▓Зр▓Вр▓Яр│Жр▓▓р▓┐р▓Ьр│Жр▓ир│Нр▓╕р│Н",
                stat1Title: "р▓ир▓┐р▓Цр▓░р▓др│Ж:", stat1Text: "р▓╡р▓┐р▓╢р│Нр▓▓р│Зр▓╖р▓гр│Ж р▓др│Вр▓Хр▓ж р▓ор│Нр▓пр▓╛р▓Яр│Нр▓░р▓┐р▓Хр│Нр▓╕р│Н р▓мр▓│р▓╕р│Бр▓др│Нр▓др▓жр│Ж.",
                stat2Title: "р▓кр▓░р▓┐р▓╕р▓░:", stat2Text: "р▓др│Зр▓╡р▓ж р▓мр▓жр▓▓р▓╛р▓╡р▓гр│Жр▓Чр▓│р▓ир│Нр▓ир│Б р▓Чр▓ор▓ир▓┐р▓╕р│Бр▓др│Нр▓др▓жр│Ж.",
                stat3Title: "AI р▓░р│Лр▓Ч р▓кр▓др│Нр▓др│Ж:", stat3Text: "р▓░р│Лр▓Ч р▓кр▓др│Нр▓др│Жр▓Чр▓╛р▓Чр▓┐ р▓Ор▓▓р│Ж р▓Ър▓┐р▓др│Нр▓░р▓Чр▓│р▓ир│Нр▓ир│Б р▓Ер▓кр│НтАМр▓▓р│Лр▓бр│Н р▓ор▓╛р▓бр▓┐.",
                advantageTitle: "AgriGuard р▓Ер▓ир│Бр▓Хр│Вр▓▓:", advantageText: "AI-р▓Ър▓╛р▓▓р▓┐р▓д р▓╡р▓┐р▓╢р│Нр▓▓р│Зр▓╖р▓гр│Ж.",
                chatbotTitle: "AgriGuard AI р▓╕р▓╣р▓╛р▓пр▓Х", chatPlaceholder: "р▓мр│Зр▓╕р▓╛р▓пр▓ж р▓мр▓Чр│Нр▓Чр│Ж р▓Хр│Зр▓│р▓┐...",
                welcomeMessage: "ЁЯСЛ р▓ир▓ор▓╕р│Нр▓др│Ж! AgriGuard AIр▓Чр│Ж р▓╕р│Нр▓╡р▓╛р▓Чр▓д!"
            },
            'ml': {
                modalTitle: "р┤ир┤┐р┤Щр╡Нр┤Щр┤│р╡Бр┤Яр╡Ж р┤нр┤╛р┤╖ р┤др┤┐р┤░р┤Юр╡Нр┤Юр╡Жр┤Яр╡Бр┤Хр╡Нр┤Хр╡Бр┤Х", modalDesc: "р┤ор┤┐р┤Хр┤Ър╡Нр┤Ъ р┤Ер┤ир╡Бр┤нр┤╡р┤др╡Нр┤др┤┐р┤ир┤╛р┤пр┤┐ р┤ир┤┐р┤Щр╡Нр┤Щр┤│р╡Бр┤Яр╡Ж р┤Зр┤╖р╡Нр┤Яр┤кр╡Нр┤кр╡Жр┤Яр╡Нр┤Я р┤нр┤╛р┤╖ р┤др┤┐р┤░р┤Юр╡Нр┤Юр╡Жр┤Яр╡Бр┤Хр╡Нр┤Хр╡Бр┤Х",
                navHome: "р┤╣р╡Лр┤В", navDashboard: "р┤бр┤╛р┤╖р╡Нр┤мр╡Лр┤бр╡Н", navGovernment: "р┤╕р╡╝р┤Хр╡Нр┤Хр┤╛р╡╝", navNGO: "р┤Ор╡╗р┤Ьр┤┐р┤Т", navSuppliers: "р┤╕р┤кр╡Нр┤▓р┤пр╡Зр┤┤р╡Нр┤╕р╡Н",
                pageTitle: "р┤Хр╡Гр┤╖р┤┐ р┤Ер┤кр┤Хр┤Я р┤╡р┤┐р┤╢р┤Хр┤▓р┤ир┤В", fieldAnalysisTitle: "р┤лр╡Ар╡╜р┤бр╡Н р┤╡р┤┐р┤╢р┤Хр┤▓р┤ир┤В",
                cropLabel: "р┤Хр╡Гр┤╖р┤┐ р┤др┤░р┤В р┤др┤┐р┤░р┤Юр╡Нр┤Юр╡Жр┤Яр╡Бр┤Хр╡Нр┤Хр╡Бр┤Х", cropPlaceholder: "-- р┤Хр╡Гр┤╖р┤┐ р┤др┤┐р┤░р┤Юр╡Нр┤Юр╡Жр┤Яр╡Бр┤Хр╡Нр┤Хр╡Бр┤Х --",
                uploadImage: "р┤Зр┤▓ р┤Ър┤┐р┤др╡Нр┤░р┤В р┤Ер┤кр╡НтАМр┤▓р╡Лр┤бр╡Н р┤Ър╡Жр┤пр╡Нр┤пр╡Бр┤Х (р┤Ур┤кр╡Нр┤╖р┤гр╡╜)",
                rainfallLabel: "р┤ор┤┤ (р┤ор┤┐.р┤ор╡А)", rainfallPlaceholder: "р┤кр╡Нр┤░р┤др┤┐р┤ор┤╛р┤╕ р┤╢р┤░р┤╛р┤╢р┤░р┤┐",
                tempLabel: "р┤др┤╛р┤кр┤ир┤┐р┤▓ (┬░C)", tempPlaceholder: "р┤ир┤┐р┤▓р┤╡р┤┐р┤▓р╡Ж р┤др┤╛р┤кр┤ир┤┐р┤▓",
                humidityLabel: "р┤Ир╡╝р┤кр╡Нр┤кр┤В (%)", humidityPlaceholder: "р┤Жр┤кр╡Зр┤Хр╡Нр┤╖р┤┐р┤Х р┤Ир╡╝р┤кр╡Нр┤кр┤В",
                soilLabel: "р┤ор┤гр╡Нр┤гр┤┐р┤ир╡Нр┤▒р╡Ж pH р┤ир┤┐р┤▓", soilPlaceholder: "4.0 - 9.0",
                submitBtn: "р┤╡р┤┐р┤╢р┤Хр┤▓р┤ир┤В р┤ир┤Яр┤др╡Нр┤др╡Бр┤Х",
                systemIntelTitle: "р┤╕р┤┐р┤╕р╡Нр┤▒р╡Нр┤▒р┤В р┤Зр┤ир╡Нр┤▒р┤▓р┤┐р┤Ьр╡╗р┤╕р╡Н",
                stat1Title: "р┤Хр╡Гр┤др╡Нр┤пр┤д:", stat1Text: "р┤╡р┤┐р┤╢р┤Хр┤▓р┤ир┤В р┤нр┤╛р┤░р┤ор╡Бр┤│р╡Нр┤│ р┤ор┤╛р┤Яр╡Нр┤░р┤┐р┤Хр╡Нр┤╕р╡Н р┤Йр┤кр┤пр╡Лр┤Чр┤┐р┤Хр╡Нр┤Хр╡Бр┤ир╡Нр┤ир╡Б.",
                stat2Title: "р┤кр┤░р┤┐р┤╕р╡Нр┤ер┤┐р┤др┤┐:", stat2Text: "р┤Ир╡╝р┤кр╡Нр┤кр┤В р┤ор┤╛р┤▒р╡Нр┤▒р┤Щр╡Нр┤Щр╡╛ р┤Хр┤гр┤Хр╡Нр┤Хр┤┐р┤▓р╡Жр┤Яр╡Бр┤Хр╡Нр┤Хр╡Бр┤ир╡Нр┤ир╡Б.",
                stat3Title: "AI р┤░р╡Лр┤Ч р┤Хр┤гр╡Нр┤Яр╡Жр┤др╡Нр┤др╡╜:", stat3Text: "р┤░р╡Лр┤Ч р┤Хр┤гр╡Нр┤Яр╡Жр┤др╡Нр┤др┤▓р┤┐р┤ир┤╛р┤пр┤┐ р┤Зр┤▓ р┤Ър┤┐р┤др╡Нр┤░р┤Щр╡Нр┤Щр╡╛ р┤Ер┤кр╡НтАМр┤▓р╡Лр┤бр╡Н р┤Ър╡Жр┤пр╡Нр┤пр╡Бр┤Х.",
                advantageTitle: "AgriGuard р┤Ер┤бр╡Нр┤╡р┤╛р┤ир╡Нр┤▒р╡Зр┤Ьр╡Н:", advantageText: "AI-р┤кр╡Нр┤░р┤╡р╡╝р┤др╡Нр┤др┤┐р┤д р┤Ер┤ир┤▓р┤┐р┤▒р╡Нр┤▒р┤┐р┤Хр╡Нр┤╕р╡Н р┤Йр┤кр┤пр╡Лр┤Чр┤┐р┤Хр╡Нр┤Хр╡Бр┤ир╡Нр┤ир╡Б.",
                chatbotTitle: "AgriGuard AI р┤Ер┤╕р┤┐р┤╕р╡Нр┤▒р╡Нр┤▒р┤ир╡Нр┤▒р╡Н", chatPlaceholder: "р┤Хр╡Гр┤╖р┤┐р┤пр╡Жр┤Хр╡Нр┤Хр╡Бр┤▒р┤┐р┤Ър╡Нр┤Ър╡Н р┤Ър╡Лр┤жр┤┐р┤Хр╡Нр┤Хр╡Бр┤Х...",
                welcomeMessage: "ЁЯСЛ р┤ир┤ор┤╕р╡Нр┤др╡Ж! AgriGuard AIр┤пр┤┐р┤▓р╡Зр┤Хр╡Нр┤Хр╡Н р┤╕р╡Нр┤╡р┤╛р┤Чр┤др┤В!"
            }
        };

        const langNames = {'en': 'English', 'hi': 'рд╣рд┐рдВрджреА', 'ta': 'родрооро┐ро┤рпН', 'te': 'р░др▒Жр░▓р▒Бр░Чр▒Б', 'bn': 'ржмрж╛ржВрж▓рж╛', 'mr': 'рдорд░рд╛рдареА', 'gu': 'ркЧрлБркЬрк░рк╛ркдрлА', 'kn': 'р▓Хр▓ир│Нр▓ир▓б', 'ml': 'р┤ор┤▓р┤пр┤╛р┤│р┤В'};

        let currentLang = localStorage.getItem('agriguard_language') || 'en';
        let recognition = null;
        let isListening = false;

        // Initialize speech recognition if available
        if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            recognition = new SpeechRecognition();
            recognition.continuous = false;
            recognition.interimResults = false;
            recognition.lang = 'en-US';
            
            recognition.onstart = function() {
                isListening = true;
                document.getElementById('voiceBtn').classList.add('listening');
            };
            
            recognition.onend = function() {
                isListening = false;
                document.getElementById('voiceBtn').classList.remove('listening');
            };
            
            recognition.onresult = function(event) {
                const transcript = event.results[0][0].transcript;
                document.getElementById('chatInput').value = transcript;
                sendMessage();
            };
            
            recognition.onerror = function(event) {
                console.error('Speech recognition error:', event.error);
                isListening = false;
                document.getElementById('voiceBtn').classList.remove('listening');
            };
        }

        function toggleVoiceInput() {
            if (recognition) {
                if (isListening) {
                    recognition.stop();
                } else {
                    // Set language based on current selection
                    const langMap = {'en': 'en-US', 'hi': 'hi-IN', 'ta': 'ta-IN', 'mr': 'mr-IN', 'te': 'te-IN', 'bn': 'bn-IN', 'gu': 'gu-IN', 'kn': 'kn-IN', 'ml': 'ml-IN'};
                    recognition.lang = langMap[currentLang] || 'en-US';
                    recognition.start();
                }
            } else {
                alert('Voice input is not supported in your browser.');
            }
        }

        // Text to Speech function
        function speakText(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                const langMap = {'en': 'en-US', 'hi': 'hi-IN', 'ta': 'ta-IN', 'mr': 'mr-IN', 'te': 'te-IN', 'bn': 'bn-IN', 'gu': 'gu-IN', 'kn': 'kn-IN', 'ml': 'ml-IN'};
                utterance.lang = langMap[currentLang] || 'en-US';
                speechSynthesis.speak(utterance);
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            const savedLang = localStorage.getItem('agriguard_language');
            if (!savedLang) {
                document.getElementById('langModal').classList.add('active');
            } else {
                currentLang = savedLang;
                document.getElementById('currentLangName').textContent = langNames[savedLang] || 'English';
                translatePage(savedLang);
            }
            
            document.getElementById('uploadArea').addEventListener('click', function() {
                document.getElementById('leafImage').click();
            });
        });

        function translatePage(lang) {
            const t = translations[lang] || translations['en'];
            
            // Modal
            document.getElementById('modalTitle').textContent = t.modalTitle;
            document.getElementById('modalDesc').textContent = t.modalDesc;
            
            // Navigation
            document.querySelector('.nav-home').textContent = t.navHome;
            document.querySelector('.nav-dashboard').textContent = t.navDashboard;
            document.querySelector('.nav-government').textContent = t.navGovernment;
            document.querySelector('.nav-ngo').textContent = t.navNGO;
            document.querySelector('.nav-suppliers').textContent = t.navSuppliers;
            
            // Main content
            document.getElementById('pageTitle').textContent = t.pageTitle;
            document.getElementById('fieldAnalysisTitle').textContent = t.fieldAnalysisTitle;
            
            // Form
            document.getElementById('cropLabel').textContent = t.cropLabel;
            document.getElementById('cropPlaceholder').textContent = t.cropPlaceholder;
            document.getElementById('fileName').textContent = t.uploadImage;
            
            // Input labels
            document.getElementById('rainfallLabel').textContent = t.rainfallLabel;
            document.getElementById('rainfallInput').placeholder = t.rainfallPlaceholder;
            document.getElementById('tempLabel').textContent = t.tempLabel;
            document.getElementById('tempInput').placeholder = t.tempPlaceholder;
            document.getElementById('humidityLabel').textContent = t.humidityLabel;
            document.getElementById('humidityInput').placeholder = t.humidityPlaceholder;
            document.getElementById('soilLabel').textContent = t.soilLabel;
            document.getElementById('soilInput').placeholder = t.soilPlaceholder;
            
            // Button
            document.getElementById('submitBtn').textContent = t.submitBtn;
            
            // Info card
            document.getElementById('systemIntelTitle').textContent = t.systemIntelTitle;
            document.getElementById('stat1Title').textContent = t.stat1Title;
            document.getElementById('stat1Text').textContent = t.stat1Text;
            document.getElementById('stat2Title').textContent = t.stat2Title;
            document.getElementById('stat2Text').textContent = t.stat2Text;
            document.getElementById('stat3Title').textContent = t.stat3Title;
            document.getElementById('stat3Text').textContent = t.stat3Text;
            document.getElementById('advantageTitle').textContent = t.advantageTitle;
            document.getElementById('advantageText').textContent = t.advantageText;
            
            // Chatbot
            document.getElementById('chatbotTitle').textContent = t.chatbotTitle;
            document.getElementById('chatInput').placeholder = t.chatPlaceholder;
            document.getElementById('welcomeMessage').textContent = t.welcomeMessage;
        }

        function selectLanguage(lang) {
            localStorage.setItem('agriguard_language', lang);
            currentLang = lang;
            document.getElementById('langModal').classList.remove('active');
            document.getElementById('currentLangName').textContent = langNames[lang] || 'English';
            
            translatePage(lang);
            
            // Send language preference to server
            fetch('/set_language', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({language: lang})
            }).then(response => response.json()).then(data => {
                console.log('Language set to:', data.language);
            }).catch(error => {
                console.error('Error saving language:', error);
            });
        }

        function showLangModal() {
            document.getElementById('langModal').classList.add('active');
        }

        function updateName(input) {
            if (input.files && input.files[0]) {
                var fileName = input.files[0].name;
                document.getElementById('fileName').innerHTML = "Selected: <b>" + fileName + "</b>";
                analyzeImage(input.files[0]);
            }
        }

        async function analyzeImage(imageFile) {
            const formData = new FormData();
            formData.append('image', imageFile);
            try {
                const response = await fetch('/analyze_image', { method: 'POST', body: formData });
                const data = await response.json();
                if (data.status === 'success') {
                    const result = data.analysis;
                    document.getElementById('confidenceBadge').textContent = result.confidence + '% Confidence';
                    document.getElementById('diseaseName').textContent = result.disease;
                    document.getElementById('diseaseDesc').textContent = result.description;
                    document.getElementById('treatmentText').textContent = result.treatment.chemical;
                    document.getElementById('analysisResult').classList.add('active');
                }
            } catch (error) {
                console.error('Error analyzing image:', error);
            }
        }

        function toggleChatbot() {
            document.getElementById('chatbotModal').classList.toggle('active');
        }

        function handleChatKeypress(event) {
            if (event.key === 'Enter') sendMessage();
        }

        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;

            addMessage(message, 'user');
            input.value = '';
            document.getElementById('typingIndicator').classList.add('active');
            scrollToBottom();

            try {
                const response = await fetch('/ai_chat', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({message: message, crop_type: null})
                });
                const data = await response.json();
                document.getElementById('typingIndicator').classList.remove('active');
                if (data.status === 'success') {
                    addMessage(data.response, 'ai');
                } else {
                    addMessage('Sorry, I encountered an error. Please try again.', 'ai');
                }
            } catch (error) {
                document.getElementById('typingIndicator').classList.remove('active');
                addMessage('Sorry, I could not connect to the server. Please try again.', 'ai');
            }
        }

        function addMessage(text, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ' + sender;
            messageDiv.innerHTML = '<div class="message-content">' + text + '</div>';
            const typingIndicator = document.getElementById('typingIndicator');
            messagesContainer.insertBefore(messageDiv, typingIndicator);
            scrollToBottom();
        }

        function scrollToBottom() {
            const messagesContainer = document.getElementById('chatMessages');
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
    </script>
</body>
</html>
